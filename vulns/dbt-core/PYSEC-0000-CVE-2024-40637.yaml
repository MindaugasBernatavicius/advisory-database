id: PYSEC-0000-CVE-2024-40637
severity:
- type: CVSS_V3
  score: CVSS:3.1/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H
details: 'dbt enables data analysts and engineers to transform their data using the
  same practices that software engineers use to build applications. When a user installs
  a package in dbt, it has the ability to override macros, materializations, and other
  core components of dbt. This is by design, as it allows packages to extend and customize
  dbt''s functionality. However, this also means that a malicious package could potentially
  override these components with harmful code. This issue has been fixed in versions
  1.8.0, 1.6.14 and 1.7.14. Users are advised to upgrade. There are no kn own workarounds
  for this vulnerability. Users updating to either 1.6.14 or 1.7.14 will need to set
  `flags.require_explicit_package_overrides_for_builtin_materializations: False` in
  their configuration in `dbt_project.yml`.'
affected:
- package:
    name: dbt-core
    ecosystem: PyPI
    purl: pkg:pypi/dbt-core
  ranges:
  - type: GIT
    repo: https://github.com/dbt-labs/dbt-core
    events:
    - introduced: "0"
    - fixed: 3c82a0296d227cb1be295356df314c11716f4ff6
    - fixed: 87ac4deb00cc9fe334706e42a365903a1d581624
  - type: ECOSYSTEM
    events:
    - introduced: 1.7.0
    - fixed: 1.7.14
    - introduced: "0"
    - fixed: 1.6.14
references:
- type: ADVISORY
  url: https://github.com/dbt-labs/dbt-core/security/advisories/GHSA-p3f3-5ccg-83xq
- type: FIX
  url: https://github.com/dbt-labs/dbt-core/commit/3c82a0296d227cb1be295356df314c11716f4ff6
- type: FIX
  url: https://github.com/dbt-labs/dbt-core/commit/87ac4deb00cc9fe334706e42a365903a1d581624
- type: WEB
  url: https://docs.getdbt.com/docs/build/packages
- type: ADVISORY
  url: https://docs.getdbt.com/reference/global-configs/legacy-behaviors#behavior-change-flags
- type: EVIDENCE
  url: https://tempered.works/posts/2024/07/06/preventing-data-theft-with-gcp-service-controls
- type: WEB
  url: https://tempered.works/posts/2024/07/06/preventing-data-theft-with-gcp-service-controls
- type: EVIDENCE
  url: https://www.elementary-data.com/post/are-dbt-packages-secure-the-answer-lies-in-your-dwh-policies
- type: WEB
  url: https://www.elementary-data.com/post/are-dbt-packages-secure-the-answer-lies-in-your-dwh-policies
- type: EVIDENCE
  url: https://www.equalexperts.com/blog/tech-focus/are-you-at-risk-from-this-critical-dbt-vulnerability
- type: ARTICLE
  url: https://www.equalexperts.com/blog/tech-focus/are-you-at-risk-from-this-critical-dbt-vulnerability
aliases:
- CVE-2024-40637
- GHSA-p3f3-5ccg-83xq
modified: "2024-07-19T14:37:00Z"
published: "2024-07-16T23:15:00Z"
